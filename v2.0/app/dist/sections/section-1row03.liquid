{% comment %}
Featured product carousel
For settings go to Admin -> Theme -> Customize Theme -> Home page
{% endcomment %}
<section class="section" style="min-height:600px;">
	<div class="carousel__navigation" style="width: 10%; left:0; ">
		<!-- Add Arrows -->
		<button class="homepage-swiper-btn-prev btn-prev2 carousel-button-prev">
			<svg viewBox="0 0 18 18" data-reactid=".2akuon0ef4.1.2.0.0.1.0:$experiences_11.0.1.3.0.0.0.0">
				<path d="M13.703 16.293a1 1 0 1 1-1.415 1.414l-7.995-8a1 1 0 0 1 0-1.414l7.995-8a1 1 0 1 1 1.415 1.414L6.413 9l7.29 7.293z"
					  data-reactid=".2akuon0ef4.1.2.0.0.1.0:$experiences_11.0.1.3.0.0.0.0.0"></path>
			</svg>

		</button>
	</div>
	<div class="carousel__navigation" style="width: 10%; right:0;">
		<!-- Add Arrows -->
		<button class="homepage-swiper-btn-next btn-next2 carousel-button-next">
			<svg viewBox="0 0 18 18" style="float:left"
				 data-reactid=".2cplo9u29s0.1.2.0.0.1.0:$experiences_5.0.1.3.2.0.0.0">
				<path d="M4.293 1.707A1 1 0 1 1 5.708.293l7.995 8a1 1 0 0 1 0 1.414l-7.995 8a1 1 0 1 1-1.415-1.414L11.583 9l-7.29-7.293z"
					  data-reactid=".2cplo9u29s0.1.2.0.0.1.0:$experiences_5.0.1.3.2.0.0.0.0"></path>
			</svg>
		</button>
		<!-- Add Pagination -->
	</div>

	{% assign home_sec_name = 'New Arrivals'%}
	{% include 'homepage-section-subtitle' with home_sec_name %}

	<!-- Swiper -->
	<div class="swiper-container carousel carousel--homepage car2" style="width:80%;">
		<div class="swiper-wrapper">
			{% for product in collections[section.settings.section-products_grid].products %}
				<div class="swiper-slide "
					 data-img-bg="{% if product.featured_image.size > 0 %}{{ product.featured_image | img_url: 'large' }}{% else %}{{ 'img_no_image.jpg' | asset_url }}{% endif %}">

					{% include 'product-item-grid' %}
				</div>
			{% endfor %}
			<div class="swiper-active-slide2" style="display:none;"></div>
		</div>

	</div>

</section>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Initialize SwiperinitHomepageCarousel_new
        function initHomepageCarousel_new() {
            var activeSlideContainer = document.querySelector('.swiper-active-slide2');
            // Featured carousel
            //var allowLinksClick = true;
            var carouselHomepage_new = new Swiper('.car2', {
                nextButton: '.btn-next2',
                prevButton: '.btn-prev2',
                preventClicks: false,
                spaceBetween: 20,
                slidesPerView: 6,
                slidesPerGroup: 3,
                loop: false,
                slidesPerColumn: 2,
                //autoplay: 0,  //in ms  "{{ settings.homepage_featured_autoplay }}",
                onInit: function (carouselHomepage_new) {
                    var slideNumber = carouselHomepage_new.slides.length;
                    var bdImage, slideLink;
                    activeSlideContainer.textContent = carouselHomepage_new.activeIndex + 1 + "/" + slideNumber;

                    for (var i = 0, max = slideNumber; i < max; i++) {
                        bdImage = carouselHomepage_new.slides[i].getAttribute('data-img-bg');
                        slideLink = carouselHomepage_new.slides[i].querySelector('.product__link ');
                        slideLink.style.backgroundImage = 'url(' + bdImage + ')';
                    }
                },
                onSlideChangeStart: function (carouselHomepage_new) {
                    var slideNumber = carouselHomepage_new.slides.length;
                    activeSlideContainer.textContent = carouselHomepage_new.activeIndex + 1 + "/" + slideNumber;
                },
                preloadImages: false,
                lazyLoading: true,
                breakpoints: {
                    2048: { //or less than
                        slidesPerView: 6,
                        slidesPerGroup: 3
                    },
                    1506: {
                        slidesPerView: 4,
                        slidesPerGroup: 2
                    },
                    1024: {
                        slidesPerView: 4,
                        slidesPerGroup: 2
                    },
                    768: {
                        slidesPerView: 3,
                        slidesPerGroup: 3
                    },
                    480: {
                        slidesPerView: 2,
                        slidesPerGroup: 2
                    }
                }
            });
        }

        if (typeof Swiper !== 'undefined' && typeof Swiper === 'function') {
            initHomepageCarousel_new();
        } else {
            require("{{ 'swiper.min.js' | asset_url }}", initHomepageCarousel_new);
        }
    });
</script>

{% schema %}
{
"name": "Section Product Grid",
"settings": [
{
"type": "collection",
"id": "section-1row01",
"label": "Section 1row01"
},
{
"type": "text",
"id": "autoplay",
"label": "Time",
"info": "If this parameter is not specified, autoplay will be disabled. The value should be in milliseconds"
},
{
"type": "text",
"id": "sec_subtitle",
"label": "title",
"info": "input a name for this sec"
}
],
"presets": [
{
"name": "01",
"category": "_One-Row"
}
]
}
{% endschema %}


